<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portfolio - Petra K.</title>
    <link rel="stylesheet" href="styles.css?v=13">
    <style>
        /* Sonification controls styling */
        .sound-toggle {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: #f5f5f5;
            border: 1px solid #ddd;
            color: #555;
            padding: 10px 20px;
            border-radius: 2px;
            cursor: pointer;
            font-size: 0.9em;
            font-weight: 400;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.08);
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            gap: 8px;
            z-index: 1000;
            font-family: 'Inter', sans-serif;
        }
        .sound-toggle:hover,
        .sound-toggle:focus {
            background: #fff;
            border-color: #bbb;
            color: #222;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.12);
            outline: 2px solid rgba(11, 61, 145, 0.2);
            outline-offset: 2px;
        }
        .sound-toggle:active {
            transform: translateY(1px);
            box-shadow: 0 1px 2px rgba(0, 0, 0, 0.08);
        }
        .sound-toggle.off {
            background: #f5f5f5;
            border-color: #ddd;
            color: #888;
        }
        .sound-toggle.off:hover,
        .sound-toggle.off:focus {
            background: #fff;
            border-color: #bbb;
            color: #555;
        }
        .sound-icon {
            width: 18px;
            height: 18px;
            flex-shrink: 0;
        }
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border-width: 0;
        }
        @media (max-width: 640px) {
            .sound-toggle {
                bottom: 16px;
                right: 16px;
                padding: 12px 20px;
                font-size: 14px;
            }
        }
        a:focus,
        button:focus {
            outline: 2px solid rgba(11, 61, 145, 0.2);
            outline-offset: 2px;
        }
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
    </style>
</head>
<body>
    <a href="#main-content" class="sr-only">Skip to main content</a>
    <header>
        <h1>Petra K.</h1>
        <p>Interface Design, Hybrid AI Design and Hybrid Sonification Projects</p>
    </header>
    <main id="main-content">
        <section class="cover">
            <figure>
                <canvas id="bannerCanvas" width="800" height="400" aria-label="Hybrid sonification banner visualizing ambient sounds in a moon theme."></canvas>
                <p><strong></strong></p>
                <br>
            </figure>
            <nav aria-label="Case studies">
                <ul>
                    <li><a href="case1.html">Music AI Compliance Doc</a></li>
                    <li><a href="case2.html">Open Space Data Sonification</a></li>
                    <li><a href="case3.html">Health Hackathon Prototyping</a></li>
                </ul>
                <br>
            </nav>
        </section>
    </main>
    <footer>
        <p>&copy; 2026 Petra K. All rights reserved.</p>
    </footer>
    <button id="soundToggle"
            class="sound-toggle off"
            aria-pressed="false"
            aria-label="Toggle ambient sound sonification">
        <svg class="sound-icon"
             viewBox="0 0 24 24"
             fill="none"
             stroke="currentColor"
             stroke-width="2"
             aria-hidden="true"
             role="img">
            <title>Sound icon</title>
            <path d="M11 5L6 9H2v6h4l5 4V5z"/>
            <path id="soundWaves" d="M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07"/>
        </svg>
        <span id="soundText" aria-live="polite">Sound Off</span>
    </button>
    <script>
    var audioContext;
var soundEnabled = false;
var scheduleInterval;
var canvas;
var ctx;
var lights = []; // Lights for impact effects
var fallingStars = []; // Falling stars
var craters = [
    { name: "Bailly", diam: 287, lat: -66.5, lon: -69.1 },
    { name: "Clavius", diam: 245, lat: -58.8, lon: -14.1 }, // Corrected longitude to -14.1
    { name: "Schickard", diam: 206, lat: -44.3, lon: -55.3 },
    { name: "Schiller", diam: 180, lat: -51.9, lon: -39.0 },
    { name: "Gauss", diam: 177, lat: 35.7, lon: 79.0 },
    { name: "Grimaldi", diam: 172, lat: -5.5, lon: -68.3 },
    { name: "Hausen", diam: 167, lat: -65.0, lon: -88.1 },
    { name: "Hecataeus", diam: 167, lat: -21.8, lon: 79.4 },
    { name: "Ptolemaeus", diam: 164, lat: -9.3, lon: -1.9 },
    { name: "Riemann", diam: 163, lat: 38.9, lon: 86.8 },
    { name: "Struve", diam: 164, lat: 22.4, lon: -77.1 },
    { name: "Longomontanus", diam: 157, lat: -49.6, lon: -21.8 },
    { name: "J. Herschel", diam: 165, lat: 62.0, lon: -42.0 },
    { name: "W. Bond", diam: 156, lat: 65.4, lon: -4.5 },
    { name: "Drygalski", diam: 149, lat: -79.3, lon: -84.9 }
];
function initCanvas() {
    canvas = document.getElementById('bannerCanvas');
    ctx = canvas.getContext('2d');
    canvas.width = canvas.offsetWidth;
    canvas.height = canvas.offsetHeight;
    drawBackground();
    animate();
}
function drawBackground() {
    // Calm, natural background: Subtle watery nebula gradient with organic filaments
    const gradient = ctx.createLinearGradient(0, 0, canvas.width, canvas.height);
    gradient.addColorStop(0, '#001020'); // Deep blue for water-like depth
    gradient.addColorStop(0.5, '#002040'); // Soft blue tint
    gradient.addColorStop(1, '#001020');
    ctx.fillStyle = gradient;
    ctx.fillRect(0, 0, canvas.width, canvas.height);
  
    // Faint organic filaments (like underwater currents or microbial threads)
    ctx.strokeStyle = 'rgba(150, 200, 255, 0.05)'; // Very subtle glow
    ctx.lineWidth = 0.3;
    for (let i = 0; i < 15; i++) {
        ctx.beginPath();
        ctx.moveTo(Math.random() * canvas.width, Math.random() * canvas.height);
        for (let j = 0; j < 3; j++) {
            ctx.quadraticCurveTo(
                Math.random() * canvas.width,
                Math.random() * canvas.height,
                Math.random() * canvas.width,
                Math.random() * canvas.height
